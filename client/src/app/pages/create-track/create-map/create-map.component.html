<div class="map-container" *ngIf="apiLoaded | async; else red_block">
  <google-map 
    height="100%" 
    width="100%" 
    [options]="options"
    (mapClick)="addCheckpoint($event)"
  >
    <map-polyline></map-polyline>
  </google-map>
</div>
<ng-template #red_block>
  <div [style]="{height: '100%', width: '100%', backgroundColor: 'red'}"></div>
</ng-template>